<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TEST: WebAdaptor for SimpleIO2</title>

    <script src="jquery-1.11.3.min.js"></script>
    <script src="jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="comet.js"></script>

    <!-- Local functions -->
    <script type="text/javascript">
	    function registerHandler(){
		requestComet($("input[name='id']").val(), -1);
	    }

	   function sendEvent(){
             sendComet($("input[name='eid']").val(), "hello",
	    	   function(data){
      			$("#response2").html(data.result+" on "+data.date);
    	  	  });
	   }

	   function sendEventToRtc(){
             sendValueToRtc($("input[name='msg']").val(), function(data){
      			$("#response2").html(data.result+" on "+data.date);
    	     });
	   }
    </script>
    <!-- ///Local functions -->

    <link rel="stylesheet" href="style.css" type="text/css">
  </head>
  <body>

  <div id="topbar">
  <table><tr>
   <td> <img src="rtm_logo.png" /> </td>
   <td><span id="title">Test of WebAdaptor with SimpleIO component</span></td>
   </tr>
  </table>
 </div>

  <form name="myform">
    <table>
    <tr>
    <td>Register Callback : </td>
    <td> <input type="text" name="id" value="1"> </td>
    <td> <input type="button" name="b2" value="Register" onClick="registerHandler();"> </td>
    </tr>
    <tr>
    <td>Send Event : </td>
    <td><input type="text" name="eid" value="1"> </td>
    <td><input type="button"  value="Call" onClick="sendEvent();"></td>
    </tr>
    <tr>
    <td>Send Message : </td>
    <td><input type="text" name="msg" value="TestMessage"> </td>
    <td><input type="button"  value="Send" onClick="sendEventToRtc();"></td>
    </tr>
    </table>
  </form>

  <h2> RESPONSE</h2>
  <hr>
  <div id="response"></div>
  <hr>
  <div id="response2"></div>
  </body>
</html>

