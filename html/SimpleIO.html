<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TEST: WebAdaptor for SimpleIO2</title>

    <script src="jquery-1.11.3.min.js"></script>
    <script src="jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="comet.js"></script>

    <!-- Local functions -->
    <script type="text/javascript">
      function registerHandler(){ requestComet(1); }
      function sendEventToRtc(){ sendValueToRtc($("input[name='msg']").val()); }
      function processEvents(event){
//        var msg = $('textarea[name="fromSeat"]').val();
        $('textarea[name="fromSeat"]').val( 
          $('textarea[name="fromSeat"]').val()+event.message+"\n");
      }
    </script>
    <!-- ///Local functions -->
  </head>

  <body onLoad="registerHandler();">
  <h1>Test of WebAdaptor with SimpleIO component</h1>
  <hr>
  <form name="myform">
    <table>
    <tr>
    <td>Send Message : </td>
    <td><input type="text" name="msg" size="40" value="TestMessage"> </td>
    <td><input type="button"  value="Send" onClick="sendEventToRtc();"></td>
    </tr>
    <tr>
    <td>Outcome Message : </td>
    <td> <textarea name="fromSeat" cols="50" rows="10"></textarea></td>
    <td></td>
    <tr>
    </table>
  </form>

  <h2> RESPONSE</h2>
  <hr>
  <div id="response"></div>
  </body>
</html>

